{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Computa\u00e7\u00e3o em Nuvem","text":"Edi\u00e7\u00e3o <p>2025.1</p>"},{"location":"#kit-p","title":"KIT-P","text":"<p>Alberto Carrera</p> <p>Felipe Frug</p> <p>Jo\u00e3o Palma</p>"},{"location":"#entregas","title":"Entregas","text":"<ul> <li> Roteiro 1</li> <li> Roteiro 2</li> <li> Roteiro 3</li> <li> Roteiro 4</li> <li> Projeto</li> </ul>"},{"location":"#referencias","title":"Refer\u00eancias","text":"<p>Material for MkDocs</p>"},{"location":"projeto/main/","title":"Explica\u00e7\u00e3o do Projeto","text":"<p>A CloudK API \u00e9 uma aplica\u00e7\u00e3o RESTful desenvolvida em Python com FastAPI, que permite:</p> <p>Registrar usu\u00e1rios com email e senha (armazenando apenas o hash da senha com bcrypt);</p> <p>Autenticar usu\u00e1rios e gerar tokens JWT com validade configur\u00e1vel;</p> <p>Consultar dados protegidos (JSON est\u00e1tico do \u00edndice Bovespa dos \u00faltimos 10 dias) mediante token v\u00e1lido.</p>"},{"location":"projeto/main/#como-executar-a-aplicacao","title":"Como Executar a Aplica\u00e7\u00e3o","text":"<p>Clone o reposit\u00f3rio <pre><code>git clone https://github.com/CarreraAlberto/cloudK.git\"\n</code></pre></p> <p>Ajuste as vari\u00e1veis no arquivo api/.env</p> <p>vari\u00e1veis sens\u00edveis (credentials, secret JWT)</p> <p><pre><code># Credenciais do Postgres\nPOSTGRES_USER=postgres\nPOSTGRES_PASSWORD=postgres\nPOSTGRES_DB=postgres\nDATABASE_HOST=database\nDATABASE_PORT=5432\n\n# Configura\u00e7\u00f5es do JWT\nJWT_SECRET=@cloudk\nJWT_ALGO=HS256\nJWT_EXPIRY_MIN=60\n</code></pre> Execute com Docker Compose:</p> <pre><code>docker compose up -d\n</code></pre>"},{"location":"projeto/main/#documentacao-dos-endpoints","title":"Documenta\u00e7\u00e3o dos Endpoints","text":"Endpoint M\u00e9todo Descri\u00e7\u00e3o Requisi\u00e7\u00e3o <code>/registrar</code> POST Cria novo usu\u00e1rio e retorna o token JWT JSON <code>{ \"email\": \"...\", \"senha\": \"...\" }</code> <code>/login</code> POST Valida credenciais e retorna o token JWT JSON <code>{ \"email\": \"...\", \"senha\": \"...\" }</code> <code>/consultar</code> GET Retorna JSON protegido (Bovespa \u00faltimos 10 dias) Header <code>Authorization: Bearer &lt;JWT&gt;</code>"},{"location":"projeto/main/#capturas-de-tela-dos-endpoint","title":"Capturas de tela dos endpoint","text":""},{"location":"projeto/main/#link-do-video-para-teste-dos-endpoints","title":"Link do v\u00eddeo para teste dos endpoints","text":"<p>https://youtu.be/R042mTfEmpw</p>"},{"location":"projeto/main/#link-para-o-docker-hub-do-projeto","title":"Link para o Docker Hub do projeto","text":"<p>https://hub.docker.com/r/joaoopalma/cloudk-api</p>"},{"location":"projeto/main/#localizacao-do-docker-composeyml","title":"Localiza\u00e7\u00e3o do <code>docker-compose.yml</code>","text":"<p>A estrutura de diret\u00f3rios do projeto \u00e9:</p> <pre><code>docs/\n\u2514\u2500\u2500 projeto/\n    \u251c\u2500\u2500 api/\n    \u2502   \u251c\u2500\u2500 app/\n    \u2502   \u2502   \u251c\u2500\u2500 __init__.py\n    \u2502   \u2502   \u251c\u2500\u2500 app.py\n    \u2502   \u2502   \u251c\u2500\u2500 auth.py\n    \u2502   \u2502   \u251c\u2500\u2500 bovespa.json\n    \u2502   \u2502   \u251c\u2500\u2500 crud.py\n    \u2502   \u2502   \u251c\u2500\u2500 database.py\n    \u2502   \u2502   \u251c\u2500\u2500 external.py\n    \u2502   \u2502   \u251c\u2500\u2500 models.py\n    \u2502   \u2502   \u2514\u2500\u2500 schemas.py\n    \u2502   \u251c\u2500\u2500 .env\n    \u2502   \u251c\u2500\u2500 Dockerfile\n    \u2502   \u251c\u2500\u2500 requirements.txt\n    \u2502   \u2514\u2500\u2500 docker-compose.yml    \u2190 aqui\n    \u251c\u2500\u2500 assets/\n    \u2502   \u2514\u2500\u2500 img1.jpg\n    \u2514\u2500\u2500 main.md\n</code></pre>"},{"location":"projeto/main/#arquivo-docker-composeyaml","title":"Arquivo docker-compose.yaml","text":"<pre><code>version: \"3.8\"\n\nservices:\n  app:\n    image: joaoopalma/cloudk-api:v7\n    ports:\n      - \"8000:8000\"\n    env_file:\n      - ./api/.env\n    depends_on:\n      - database\n\n  database:\n    image: postgres:15\n    restart: always\n    environment:\n      POSTGRES_USER: ${POSTGRES_USER}\n      POSTGRES_PASSWORD: ${POSTGRES_PASSWORD}\n      POSTGRES_DB: ${POSTGRES_DB}\n    volumes:\n      - db_data:/var/lib/postgresql/data\n\nvolumes:\n  db_data:\n</code></pre>"},{"location":"projeto/main/#parte-2-deploy-na-nuvem-aws-lightsail","title":"Parte 2: Deploy na Nuvem (AWS Lightsail)","text":"<p>Nesta se\u00e7\u00e3o documentamos:</p> <ol> <li> <p>Explica\u00e7\u00e3o do projeto    Relembramos que a CloudK API \u00e9 uma RESTful em FastAPI, com endpoints de registro, login (JWT), consulta Bovespa e health-check.</p> </li> <li> <p>Como executar na AWS </p> </li> <li>A imagem Docker <code>joaoopalma/cloudk-api:v7</code> est\u00e1 no Docker Hub.  </li> <li> <p>Servi\u00e7o criado em Lightsail Container Service:</p> <ul> <li>Nome: fastapi-service  </li> <li>Power: m1.nano (0.25 vCPU, 512 MB RAM)  </li> <li>Scale: 5 inst\u00e2ncias  </li> </ul> </li> <li> <p>Banco gerenciado em Lightsail Databases:</p> <ul> <li>Engine: PostgreSQL 17.5  </li> <li>DB name: fastapi-db  </li> <li>Master user: admin_user</li> <li>Senha: cloudkcloudk  </li> <li>Public mode: habilitado</li> </ul> </li> <li> <p>Endpoints testados </p> </li> <li> <p>Health check:     </p> </li> <li> <p>Registrar e Login   </p> </li> <li> <p>Consultar   </p> </li> <li> <p>Infraestrutura funcionando </p> </li> <li> <p>Tela de custos (dia 27/05/2025) </p> </li> <li> <p>Link para v\u00eddeo de execu\u00e7\u00e3o</p> </li> </ol> <p>https://youtu.be/LVtL4FoiDQA</p>"},{"location":"projeto/api/venv/Lib/site-packages/idna-3.10.dist-info/LICENSE/","title":"LICENSE","text":"<p>BSD 3-Clause License</p> <p>Copyright (c) 2013-2024, Kim Davies and contributors. All rights reserved.</p> <p>Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</p> <ol> <li> <p>Redistributions of source code must retain the above copyright    notice, this list of conditions and the following disclaimer.</p> </li> <li> <p>Redistributions in binary form must reproduce the above copyright    notice, this list of conditions and the following disclaimer in the    documentation and/or other materials provided with the distribution.</p> </li> <li> <p>Neither the name of the copyright holder nor the names of its    contributors may be used to endorse or promote products derived from    this software without specific prior written permission.</p> </li> </ol> <p>THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</p>"},{"location":"projeto/api/venv/Lib/site-packages/starlette-0.46.2.dist-info/licenses/LICENSE/","title":"LICENSE","text":"<p>Copyright \u00a9 2018, Encode OSS Ltd. All rights reserved.</p> <p>Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</p> <ul> <li> <p>Redistributions of source code must retain the above copyright notice, this   list of conditions and the following disclaimer.</p> </li> <li> <p>Redistributions in binary form must reproduce the above copyright notice,   this list of conditions and the following disclaimer in the documentation   and/or other materials provided with the distribution.</p> </li> <li> <p>Neither the name of the copyright holder nor the names of its   contributors may be used to endorse or promote products derived from   this software without specific prior written permission.</p> </li> </ul> <p>THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</p>"},{"location":"projeto/api/venv/Lib/site-packages/uvicorn-0.34.2.dist-info/licenses/LICENSE/","title":"LICENSE","text":"<p>Copyright \u00a9 2017-present, Encode OSS Ltd. All rights reserved.</p> <p>Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</p> <ul> <li> <p>Redistributions of source code must retain the above copyright notice, this   list of conditions and the following disclaimer.</p> </li> <li> <p>Redistributions in binary form must reproduce the above copyright notice,   this list of conditions and the following disclaimer in the documentation   and/or other materials provided with the distribution.</p> </li> <li> <p>Neither the name of the copyright holder nor the names of its   contributors may be used to endorse or promote products derived from   this software without specific prior written permission.</p> </li> </ul> <p>THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</p>"},{"location":"roteiro1/main/","title":"Roteiro 1","text":""},{"location":"roteiro1/main/#objetivo","title":"Objetivo","text":"<ul> <li>Entender os conceitos b\u00e1sicos sobre uma plataforma de gerenciamento de hardware.</li> <li>Introduzir conceitos b\u00e1sicos sobre redes de computadores.</li> </ul>"},{"location":"roteiro1/main/#tarefa-1","title":"Tarefa 1","text":""},{"location":"roteiro1/main/#banco-de-dados-funcionando-e-seu-status-esta-como-ativo-para-o-sistema-operacional","title":"Banco de dados funcionando e seu Status est\u00e1 como \"Ativo\" para o Sistema Operacional","text":""},{"location":"roteiro1/main/#banco-de-dados-acessivel-na-maquina-na-qual-ele-foi-implantado","title":"Banco de dados acessivel na m\u00e1quina na qual ele foi implantado.","text":""},{"location":"roteiro1/main/#banco-de-dados-acessivel-a-partir-de-uma-conexao-vinda-da-maquina-main","title":"Banco de dados acessivel a partir de uma conex\u00e3o vinda da m\u00e1quina MAIN.","text":""},{"location":"roteiro1/main/#porta-em-que-este-servico-esta-funcionando","title":"Porta em que este servi\u00e7o est\u00e1 funcionando.","text":"<p>--- tarefa 1 100% completa e registrada no relat\u00f3rio (daqui pra cima ta feito)</p> <p>Conforme ilustrado acima, a tela inicial do MAAS apresenta um dashboard com informa\u00e7\u00f5es sobre o estado atual dos servidores gerenciados. O dashboard \u00e9 composto por diversos pain\u00e9is, cada um exibindo informa\u00e7\u00f5es sobre um aspecto espec\u00edfico do ambiente gerenciado. Os pain\u00e9is podem ser configurados e personalizados de acordo com as necessidades do usu\u00e1rio.</p>"},{"location":"roteiro1/main/#tarefa-2","title":"Tarefa 2","text":""},{"location":"roteiro1/main/#dashboard-cdo-maas-com-as-maquinas","title":"Dashboard cdo MAAS com as m\u00e1quinas","text":""},{"location":"roteiro1/main/#imagens-sincro","title":"Imagens sincro","text":""},{"location":"roteiro1/main/#testes-de-hardware-e-commissioning-com-status-ok","title":"Testes de hardware e commissioning com Status \"OK\"","text":""},{"location":"roteiro1/main/#server-1","title":"Server 1","text":""},{"location":"roteiro1/main/#server-2","title":"Server 2","text":""},{"location":"roteiro1/main/#server-3","title":"Server 3","text":""},{"location":"roteiro1/main/#server-4","title":"Server 4","text":""},{"location":"roteiro1/main/#server-5","title":"Server 5","text":""},{"location":"roteiro1/main/#tarefa-3","title":"Tarefa 3","text":""},{"location":"roteiro1/main/#dashboard-do-maas-com-as-2-maquinas-e-seus-respectivos-ips","title":"Dashboard do MAAS com as 2 Maquinas e seus respectivos IPs","text":"<p> Server1 ip:172.16.15.0 \\ Server2 ip:172.16.0.130</p>"},{"location":"roteiro1/main/#aplicacao-django-conectada-ao-servidor","title":"Aplica\u00e7\u00e3o Django conectada ao servidor","text":""},{"location":"roteiro1/main/#implementacao-manual-da-aplicacao-django-e-banco-de-dados","title":"Implementa\u00e7\u00e3o manual da aplica\u00e7\u00e3o Django e banco de dados:","text":"<p>Inicialmente demos comission no server 1 e server 2 pelo maas</p> <p>Depois acessamos o server 1 via SSH e rodamos os seguintes comandos para atualizar o nosso ubuntu e instalar o PostgreSQL: sudo apt update sudo apt install postgresql postgresql-contrib -y</p> <p>Em seguida criamos nosso usu\u00e1rio \"cloud\" e utilizamos a senha \"cloud\" com: sudo su - postgres createuser -s cloud -W</p> <p>O pr\u00f3ximo passo foi criar o database usando createdb -O cloud tasks</p> <p>alterar o postgresql.conf e alterar o listen_addresses para que reconhecesse tudo o deixando da seguinte forma: listen_addresses = '*'</p> <p>e alterar o pg_hba.conf para liberar qualquer maquina dentro da subnet adicionando a linha host    all             all             172.16.0.0/20          trust</p> <p>Com o server 1 pronto fomos para o server 2. Acessamos ele pelo SSH e clonamos o reposit\u00f3rio https://github.com/raulikeda/tasks.git com um git clone</p> <p>Para testar se estava funcionando criamos um t\u00fanel para o server 2 utilizando o comando: ssh cloud@10.103.1.20 -L 8001:172.16.0.130:8080</p> <p>e acessamos http://localhost:8001/admin/ para verificar\u00a0a\u00a0conex\u00e3o</p>"},{"location":"roteiro1/main/#tarefa-4","title":"Tarefa 4","text":""},{"location":"roteiro1/main/#server-1-2-e-3-com-seus-respectivos-ips","title":"Server 1, 2 e 3 com seus respectivos IPs","text":""},{"location":"roteiro1/main/#aplicacao-django-rodando-no-server-2","title":"Aplica\u00e7\u00e3o Django rodando no server 2","text":""},{"location":"roteiro1/main/#aplicacao-django-rodando-no-server-3","title":"Aplica\u00e7\u00e3o Django rodando no server 3","text":""},{"location":"roteiro1/main/#explique-qual-diferenca-entre-instalar-manualmente-a-aplicacao-django-e-utilizando-o-ansible","title":"Explique qual diferenca entre instalar manualmente a aplicacao Django e utilizando o Ansible","text":"<p>A instala\u00e7\u00e3o manual exige configurar tudo passo a passo, o que torna o processo mais demorado e sujeito a erros. Com Ansible, tudo \u00e9 automatizado, podendo ser instalado diretamente pelo main, sem precisar acessar o servidor espec\u00edfico. Isso torna a implanta\u00e7\u00e3o mais pr\u00e1tica e eficiente.</p>"},{"location":"roteiro1/main/#tarefa-5","title":"Tarefa 5","text":""},{"location":"roteiro1/main/#server-1-2-3-e-4-com-seus-respectivos-ips","title":"Server 1, 2, 3 e 4 com seus respectivos IPs","text":""},{"location":"roteiro1/main/#get-request-conectado-ao-server-4-batendo-no-server-2","title":"GET request conectado ao Server 4, batendo no Server 2","text":""},{"location":"roteiro1/main/#get-request-conectado-ao-server-4-batendo-no-server-3","title":"GET request conectado ao Server 4, batendo no Server 3","text":""},{"location":"roteiro1/main/#conclusao","title":"Conclus\u00e3o","text":"<p>(Descreva como o MaaS poderia ser utilizado em um datacenter real (com muitos servidores) e como seria um processo alternativo sem essa ferramenta. Ainda, \u00e9 poss\u00edvel e SIMPLES realizar a implanta\u00e7\u00e3o de uma aplica\u00e7\u00e3o usando o MaaS?)</p>"},{"location":"roteiro2/main/","title":"Roteiro 2","text":""},{"location":"roteiro2/main/#objetivo","title":"Objetivo","text":"<ul> <li>Entender os conceitos b\u00e1sicos sobre uma plataforma de gerenciamento de aplica\u00e7\u00f5es distribu\u00eddas.</li> <li>Entender os conceitos b\u00e1sicos de comunica\u00e7\u00e3o entre aplica\u00e7\u00f5es e servi\u00e7os.</li> </ul>"},{"location":"roteiro2/main/#tarefa","title":"Tarefa","text":""},{"location":"roteiro2/main/#de-um-print-da-tela-do-dashboard-do-maas-com-as-maquinas-e-seus-respectivos-ips","title":"De um print da tela do Dashboard do MAAS com as Maquinas e seus respectivos IPs.","text":""},{"location":"roteiro2/main/#de-um-print-de-tela-do-comando-juju-status-depois-que-o-grafana-estiver-active","title":"De um print de tela do comando \"juju status\" depois que o Grafana estiver \"active\".","text":""},{"location":"roteiro2/main/#de-um-print-da-tela-do-dashboard-do-grafana-com-o-prometheus-aparecendo-como-source","title":"De um print da tela do Dashboard do Grafana com o Prometheus aparecendo como source.","text":""},{"location":"roteiro2/main/#prove-print-que-voce-esta-conseguindo-acessar-o-dashboard-a-partir-da-rede-do-insper","title":"Prove (print) que voc\u00ea est\u00e1 conseguindo acessar o Dashboard a partir da rede do Insper.","text":""},{"location":"roteiro2/main/#de-um-print-na-tela-que-mostra-as-aplicacoes-sendo-gerenciadas-pelo-juju-httpip-servico8080modelsadminmaas","title":"De um print na tela que mostra as aplica\u00e7\u00f5es sendo gerenciadas pelo JUJU (http://IP-Servi\u00e7o:8080/models/admin/maas)","text":""},{"location":"roteiro3/main/","title":"Roteiro 3","text":""},{"location":"roteiro3/main/#objetivos","title":"Objetivos","text":"<ol> <li>Entender os conceitos b\u00e1sicos de Private Cloud.</li> <li>Aprofundar conceitos sobre redes virtuais SDN.</li> </ol>"},{"location":"roteiro3/main/#tarefa-1","title":"Tarefa 1","text":""},{"location":"roteiro3/main/#print-da-tela-do-status-do-juju","title":"Print da tela do Status do Juju","text":""},{"location":"roteiro3/main/#print-da-tela-do-dashboard-do-maas-com-as-maquinas","title":"Print da tela do Dashboard do MAAS com as m\u00e1quinas","text":""},{"location":"roteiro3/main/#print-da-aba-compute-overview-no-openstack-dashboard","title":"Print da aba compute overview no OpenStack Dashboard","text":""},{"location":"roteiro3/main/#print-da-aba-compute-instances-no-openstack-dashboard","title":"Print da aba compute instances no OpenStack Dashboard","text":""},{"location":"roteiro3/main/#print-da-aba-network-topology-no-openstack-dashboard","title":"Print da aba network topology no OpenStack Dashboard","text":""},{"location":"roteiro3/main/#tarefa-2","title":"Tarefa 2","text":""},{"location":"roteiro3/main/#print-da-tela-do-dashboard-do-maas-com-as-maquinas_1","title":"Print da tela do Dashboard do MAAS com as m\u00e1quinas","text":"<p> Diferen\u00e7as da Tarefa 1 para a Tarefa 2: \\ Os IPs das m\u00e1quinas foram alterados e a m\u00e1quina 2 foi instanciada.</p>"},{"location":"roteiro3/main/#print-da-aba-compute-overview-no-openstack-dashboard_1","title":"Print da aba compute overview no OpenStack Dashboard","text":"<p> Diferen\u00e7as da Tarefa 1 para a Tarefa 2: \\ Na Tarefa 1 o roteiro estava no come\u00e7o e com todas as m\u00e1quinas vazias prontas para a realiza\u00e7\u00e3o do roteiro. Agora na Tarefa 2 o roteiro j\u00e1 est\u00e1 em andamento. \\ Pode-se vizualizar na imagem as Inst\u00e2ncias (VMs), Nertworks, Routers e Floating IPs que foram criados e configurados entre as duas Tarefas at\u00e9 agora realizadas.</p>"},{"location":"roteiro3/main/#print-da-aba-compute-instances-no-openstack-dashboard_1","title":"Print da aba compute instances no OpenStack Dashboard","text":"<p> Diferen\u00e7as da Tarefa 1 para a Tarefa 2: \\ Pode-se vizualizar as duas Inst\u00e2ncias (VMs) que foram criadas para testar o funcionamento do Roteiro 3. </p>"},{"location":"roteiro3/main/#print-da-aba-network-topology-no-openstack-dashboard_1","title":"Print da aba network topology no OpenStack Dashboard","text":"<p> Diferen\u00e7as da Tarefa 1 para a Tarefa 2: \\ Na Tarefa 1 n\u00e3o existem nenhuma rede, roteador ou inst\u00e2ncias. J\u00e1 na Tarefa 2 ja foram criadas 3 redes: externa, interna e client. Tamb\u00e9m foram criadaos 2 roteadores: um para o conectar a rede externa \u00e0 interna e outra para conectar a rede externa \u00e0 client, essa que possui duas VMs na sua rede.</p>"},{"location":"roteiro3/main/#explicacao-de-como-cada-recurso-foi-criado","title":"Explica\u00e7\u00e3o de como cada recurso foi criado","text":"<p>Cria\u00e7\u00e3o das Images e Flavours: \\ <pre><code>openstack flavor create --ram 1 --disk 20 m1.tiny\n</code></pre></p> <p>Cria\u00e7\u00e3o da Rede Externa e sua Subnet: \\ O c\u00f3digo abaixo foi utilizado para criar uma Public External Network <pre><code>openstack network create --external --share \\\n   --provider-network-type flat --provider-physical-network physnet1 \\\n   ext_net\n</code></pre> Ap\u00f3s isso a cria\u00e7\u00e3o da subnet foi realizada utilizando o c\u00f3digo \u00e0 seguir, por\u00e9m com os valores diferentes para cumprir as necessidades do Roteiro com uma faixa de aloca\u00e7\u00e3o entre 172.16.7.0 e 172.16.8.255 <pre><code>openstack subnet create --network ext_net --no-dhcp \\\n   --gateway 172.16.0.1 --subnet-range 172.16.0.0/20 \\\n   --allocation-pool start=172.16.7.0,end=172.16.8.255 \\\n   ext_subnet\n</code></pre></p> <p>Cria\u00e7\u00e3o da Rede Interna e sua Subnet: \\ Para a cria\u00e7\u00e3o da Rede Interna foi utilizado o c\u00f3digo \u00e0 seguir <pre><code>openstack network create --internal user1_net\n</code></pre> Em seguida para criar a Subnet da rede interna utilizamos o c\u00f3digo \u00e0 seguir, por\u00e9m cumprindo o requisito 192.169.0.0/24 <pre><code>openstack subnet create --network user1_net \\\n   --subnet-range 192.169.0.0/24 \\\n   user1_subnet\n</code></pre></p> <p>Cria\u00e7\u00e3o do Roteador: \\ Foi utilizado o comando \u00e0 seguir para criar o reteador que conecta a rede interna \u00e0 externa <pre><code>openstack router create user1_router\nopenstack router add subnet user1_router user1_subnet\nopenstack router set user1_router --external-gateway ext_net\n</code></pre></p> <p>Cria\u00e7\u00e3o de Inst\u00e2ncia: \\ Primeiro a cria\u00e7\u00e3o da inst\u00e2ncia com flavor \"m1.tiny\" e nome \"client\" <pre><code>openstack server create --image jammy-amd64 --flavor m1.tiny \\\n   --key-name user1 --network user1_net --security-group Allow_SSH \\\n   client\n</code></pre> Ap\u00f3s isso alocamos um Floating IP para a nova inst\u00e2ncia \"client\" criada <pre><code>FLOATING_IP=$(openstack floating ip create -f value -c floating_ip_address ext_net)\nopenstack server add floating ip client $FLOATING_IP\n</code></pre></p>"},{"location":"roteiro3/main/#tarefa-3","title":"Tarefa 3","text":""},{"location":"roteiro3/main/#flow-de-como-e-a-sua-arquitetura-de-rede-desde-a-sua-conexao-com-o-insper-ate-a-instancia-alocada","title":"Flow de como \u00e9 a sua arquitetura de rede, desde a sua conex\u00e3o com o Insper at\u00e9 a inst\u00e2ncia alocada","text":""},{"location":"roteiro3/main/#tarefa-4","title":"Tarefa 4","text":""},{"location":"roteiro3/main/#relatorio-dos-passos-utilizados-para-levantar-as-aplicacoes-nas-vms","title":"Relat\u00f3rio dos passos utilizados para levantar as aplica\u00e7\u00f5es nas VMs","text":"<p>Database: \\ Para isso criamos o enviroment com o comando <pre><code>nano .env\n</code></pre> Ap\u00f3s isso criamos o container \"postgres\" com o seguinte c\u00f3digo <pre><code>docker run -d   --name postgres   --env-file .env   -p 5432:5432   -v postgres_data:/var/lib/postgresql/data   postgres:16\n</code></pre> Com o \"curl\" baixamos e executamos o script do Docker <pre><code>curl -fsSL https://get.docker.com | sh\n</code></pre> Por fim, com os dois comandos \u00e0 seguir adicionamos o usu\u00e1rio atual ao grupo docker e atualizamos a sess\u00e3o imediatamente <pre><code>sudo usermod -aG docker $USER\nnewgrp docker\n</code></pre></p> <p>API 1 e 2: \\ O segundo passo \u00e9 levantar duas inst\u00e2ncias com a API criada pelo grupo e que foi salva no DockerHub. \\ Para isso criamos o arquivo api.env <pre><code>nano api.env\n</code></pre> O pr\u00f3ximo passo foi criar uma rede Docker chamada \"minha-rede\", para facilitar o processo de comunica\u00e7\u00e3o entre containers <pre><code>docker network create minha-rede\n</code></pre> Ap\u00f3s isso criamos os containers \"api\" e \"api2\", uma em cada m\u00e1quina, com o seguinte comando <pre><code>docker run -d --name api --env-file ./api.env -p 3000:8000 joaopalma/cloudk-api\ndocker run -d --name api2 --env-file ./api.env -p 3000:8000 joaopalma/cloudk-api\n</code></pre></p> <p>LoadBalancer: \\ Para a cria\u00e7\u00e3o do loadbalancer come\u00e7amos pela cria\u00e7\u00e3o do arquivo \"nginx.config\" como loadbalancer, utilizando o segundo comando <pre><code>nano nginx.conf\n</code></pre> Agora executamos o container Docker nomeando-o \"nginx\", com a imagem \"nginx.alpine\" <pre><code>docker run -d --name nginx -p 80:80 -v $(pwd)/nginx.conf:/etc/nginx/nginx.conf:ro nginx:alpine\n</code></pre> Ap\u00f3s isso foi realizado o mesmo processo da etapa passada, instalando o \"curl\", baixando e executando o script do Docker, depois adicionando o usu\u00e1rio ao grupo \"docker\" e aplicando as mudan\u00e7as <pre><code>sudo apt update &amp;&amp; sudo apt install -y curl\ncurl -fsSL https://get.docker.com | sh\nsudo usermod -aG docker $USER\nnewgrp docker\n</code></pre></p>"},{"location":"roteiro3/main/#arquitetura-de-rede-da-infraestrutura-dentro-do-dashboard-do-openstack","title":"Arquitetura de rede da infraestrutura dentro do Dashboard do Openstack","text":""},{"location":"roteiro3/main/#lista-de-vms-utilizadas-com-nome-e-ips-alocados","title":"Lista de VMs utilizadas com nome e IPs alocados","text":""},{"location":"roteiro3/main/#print-do-dashboard-do-fastapi-conectado-via-maquina-nginxlb","title":"Print do Dashboard do FastAPI conectado via m\u00e1quina Nginx/LB","text":""},{"location":"roteiro3/main/#4-prints-cada-um-demonstrando-em-qual-server-maquina-fisica-cada-instancia-foi-alocado-pelo-openstack","title":"4 Prints, cada um demonstrando em qual server (m\u00e1quina fisica) cada inst\u00e2ncia foi alocado pelo OpenStack","text":""},{"location":"roteiro3/main/#loadbalancer","title":"LoadBalancer","text":""},{"location":"roteiro3/main/#api-1","title":"API 1","text":""},{"location":"roteiro3/main/#api-2","title":"API 2","text":""},{"location":"roteiro3/main/#database","title":"DataBase","text":""},{"location":"roteiro4/main/","title":"Roteiro 4","text":""},{"location":"roteiro4/main/#objetivos","title":"Objetivos","text":"<ol> <li>Entender os conceitos b\u00e1sicos Infraestrutura como c\u00f3digo</li> <li>Entender os conceitos b\u00e1sicos sobre SLA e DR</li> </ol>"},{"location":"roteiro4/main/#exercicio-1","title":"Exerc\u00edcio 1","text":"<p>Foram criados tr\u00eas Users sem contar o admin. Para verificar suas composi\u00e7\u00f5es foram tirados prints de diferentes abas do OpenStack que cada um possui permiss\u00e3o para acesso. </p>"},{"location":"roteiro4/main/#user-admin","title":"User Admin:","text":""},{"location":"roteiro4/main/#aba-identity-projects","title":"Aba Identity Projects","text":""},{"location":"roteiro4/main/#aba-identity-users-do-openstack","title":"Aba Identity Users do OpenStack","text":""},{"location":"roteiro4/main/#aba-compute-overview","title":"Aba Compute Overview","text":""},{"location":"roteiro4/main/#aba-compute-instances","title":"Aba Compute Instances","text":""},{"location":"roteiro4/main/#aba-network-topology","title":"Aba Network Topology","text":""},{"location":"roteiro4/main/#user-felipe","title":"User Felipe:","text":""},{"location":"roteiro4/main/#aba-compute-overview_1","title":"Aba Compute Overview","text":""},{"location":"roteiro4/main/#aba-compute-instances_1","title":"Aba Compute Instances","text":""},{"location":"roteiro4/main/#aba-network-topology_1","title":"Aba Network Topology","text":""},{"location":"roteiro4/main/#user-alberto","title":"User Alberto:","text":""},{"location":"roteiro4/main/#aba-compute-overview_2","title":"Aba Compute Overview","text":""},{"location":"roteiro4/main/#aba-compute-instances_2","title":"Aba Compute Instances","text":""},{"location":"roteiro4/main/#aba-network-topology_2","title":"Aba Network Topology","text":""},{"location":"roteiro4/main/#user-joao","title":"User Jo\u00e3o:","text":""},{"location":"roteiro4/main/#aba-compute-overview_3","title":"Aba Compute Overview","text":""},{"location":"roteiro4/main/#aba-compute-instances_3","title":"Aba Compute Instances","text":""},{"location":"roteiro4/main/#aba-network-topology_3","title":"Aba Network Topology","text":""},{"location":"roteiro4/main/#exercicio-2","title":"Exerc\u00edcio 2","text":"<p>O grupo foi apresentado para a seguinte situa\u00e7\u00e3o: \"Voc\u00ea \u00e9 o CTO (Chief Technology Officer) de uma grande empresa com sede em v\u00e1rias capitais no Brasil e precisa implantar um sistema cr\u00edtico, de baixo custo e com dados sigilosos para a \u00e1rea operacional.\" \\ Com essa situa\u00e7\u00e3o em mente o grupo deveria responder a s\u00e9rie de perguntas \u00e0 seguir.</p>"},{"location":"roteiro4/main/#a-voce-escolheria-public-cloud-ou-private-cloud","title":"a) Voc\u00ea escolheria Public Cloud ou Private Cloud?","text":"<p>O grupo escolheria uma Public CLoud. Isso se da por diversos motivos, por\u00e9m os principais deles s\u00e3o escalabilidade, custo e seguran\u00e7a. \\ Servi\u00e7os como a AWS permitem escalar os recursos conforme a demanda, o que facilitaria colocar um modelo, mais simples, em pr\u00e1tica no come\u00e7o. Essa escolha tamb\u00e9m permitiria reduzir o custo inicial de instala\u00e7\u00e3o e setup de um servi\u00e7o de cloud, ao mesmo tempo que facilita o controle de gastos destinados ao projeto. Por fim, a seguran\u00e7a \u00e9 um ponto forte nesse modelo, uma vez que servi\u00e7os com a AWS oferece recursos robustos de seguran\u00e7a e criptografia avan\u00e7ada, evitando erros de uma equipe mais reduzida que poderia errar e causar vazamentos de dados.</p>"},{"location":"roteiro4/main/#b-explique-para-o-rh-por-que-voce-precisa-de-um-time-de-devops","title":"b) Explique para o RH por que voc\u00ea precisa de um time de DevOps","text":"<p>Um time de DevOps \u00e9 extremamente necess\u00e1rio, uma vez que essa \u00e9 a maneira mais f\u00e1cil de garantir efici\u00eancia, agilidade e seguran\u00e7a nas opera\u00e7\u00f5es do sistema e desenvolvimento. \\ A equipe teria alguns trabalhos principais, entre eles garantir deplays r\u00e1pidos, seguros e confi\u00e1veis. Um trabalho de monitoramento seria essencial para reduzir danos e, principalmente, prever falhas. Por fim, trabalhariam com infraestrutura como c\u00f3digo (IaC), para garantir um melhor gerenciamento da infraestrutura, utilizando ferramentas com o Terraform.</p>"},{"location":"roteiro4/main/#c-monte-um-plano-de-dr-disaster-recovery-e-ha-high-availability-que-considere-entre-as-acoes","title":"c) Monte um plano de DR (Disaster Recovery) e HA (High Availability) que considere entre as a\u00e7\u00f5es:","text":""},{"location":"roteiro4/main/#mapeamento-das-principais-ameacas-que-podem-colocar-em-riscos-o-seu-ambiente","title":"Mapeamento das principais amea\u00e7as que podem colocar em riscos o seu ambiente","text":"<p>Falhas humanas, de software ou hardware podem causar com que os servi\u00e7os de cloud sejam interrompidos. Entre essas falhas podem acontecer configura\u00e7\u00f5es mal feitas ou exclus\u00e3o acidental de arquivos, atualiza\u00e7\u00f5es problem\u00e1ticas ou bugs e por fim problemas f\u00edsicos nos servidores. \\ Al\u00e9m dessas amea\u00e7as tamb\u00e9m \u00e9 preciso ter conciencia que os servidores da empresa podem ser alvos de ataques intencionais. Alguns exemplos seriam ataques DDoS que visam derrubar e/ou sobrecarregar os servidores. Ou tamb\u00e9m, tentativas de acesso de terceiro, que podem ter inten\u00e7\u00f5es maliciosas com as informa\u00e7\u00f5es ou com o proprio servidor.</p>"},{"location":"roteiro4/main/#elenque-e-priorize-as-acoes-para-a-recuperacao-de-seu-ambiente-em-uma-possivel-interrupcaodesastre","title":"Elenque e priorize as a\u00e7\u00f5es para a recupera\u00e7\u00e3o de seu ambiente em uma poss\u00edvel interrup\u00e7\u00e3o/desastre","text":"<p>No caso do pior acontecer \u00e9 necess\u00e1rio ter planos para mitigar o estrago. \\ Sabendo disso, algumas medidas podem ser tomadas. Entre elas, replicar os servi\u00e7os mais importantes em diferentes \u00e1reas da Cloud, assim n\u00e3o se perderia tudo de uma vez. Ainda sobre dados, implementar um sistema de backup autom\u00e1tico e rotineiro de dados cr\u00edticos, preservaria os mesmos em caso de perda. Por fim, realizar testes frequ\u00eantes de Disaster Recovery, para que um plano ja estesja tra\u00e7ado para cada tipo de erro ou falha que possa vir a acontecer.</p>"},{"location":"roteiro4/main/#como-sua-equipe-ira-tratar-a-politica-de-backup","title":"Como sua equipe ir\u00e1 tratar a pol\u00edtica de backup?","text":"<p>Os backups devem ser realizados com frequ\u00eancia, para minizar qualquer tipo de dano ou perda proveniente de catastrofes. Alguns servi\u00e7os como o AWS Backup poderiam ser utilizados para automatizar o processo, ao mesmo tempo que o facilita, \u00e0 fim das mesmas finalidades dos backups frequ\u00eantes. Tamb\u00e9m poderia-se aplicar uma prioritiza\u00e7\u00e3o dos dados, para que os dados mais cr\u00edticos fossem armazenados com mais frequ\u00eancia e facilidade de serem recuperados. \\ Por fim, realizar testes para confirmar a integridade dos backups, se est\u00e3o sendo arquivados de maneira correta e sem perda de nenhum documento cr\u00edtico.</p>"},{"location":"roteiro4/main/#considerando-possiveis-instabilidades-e-problemas-descreva-como-alta-disponibilidade-sera-implementada-em-sua-infraestrutura","title":"Considerando poss\u00edveis instabilidades e problemas, descreva como alta disponibilidade ser\u00e1 implementada em sua infraestrutura","text":"<p>Realizar a distribui\u00e7\u00e3o autom\u00e1tica do tr\u00e1fego seria indispens\u00e1vel, ent\u00e3o a utiliza\u00e7\u00e3o de um Load Balancer permitiria que diferentes int\u00e2ncias fossem utilizadas para manejar todo o tr\u00e1fego destinado ao servi\u00e7o. \\ A Infraestrutura como C\u00f3digo (IaC) garantiria a padroniza\u00e7\u00e3o e automatiza\u00e7\u00e3o da implanta\u00e7\u00e3o, confirmando uma consist\u00eancia entre os diversos ambientes da Cloud.\\ Garantir que a demanda nunca sobrepasse a capacidade computacional da Cloud e manter um monitoramento frequ\u00eante seriam as duas \u00faltimas etapas providenciais para um bom funcionamento da Cloud. </p>"}]}